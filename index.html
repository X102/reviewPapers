<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr√¨nh x·ª≠ l√Ω B√†i b√°o LULC</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Tr√¨nh ph√¢n t√≠ch B√†i b√°o LULC v·ªõi Gemini</h1>
        <p>T·∫£i l√™n t·ªáp CSV ch·ª©a c√°c b√†i b√°o (c·∫ßn c√≥ c·ªôt 'Title', 'Abstract', 'Year') ƒë·ªÉ tr√≠ch xu·∫•t th√¥ng tin.</p>

        <fieldset id="settings-fieldset">

            <details class="instructions">
                <summary>üí° L√†m th·∫ø n√†o ƒë·ªÉ l·∫•y API Key?</summary>
                <div>
                    <ol>
                        <li>
                            Truy c·∫≠p th·∫≥ng v√†o trang <strong><a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio API Key</a></strong>.
                        </li>
                        <li>ƒêƒÉng nh·∫≠p b·∫±ng t√†i kho·∫£n Google c·ªßa b·∫°n (n·∫øu ƒë∆∞·ª£c y√™u c·∫ßu).</li>
                        <li>Nh·∫•p v√†o n√∫t <strong>"Create API key in new project"</strong>.</li>
                        <li>M·ªôt API key s·∫Ω hi·ªán ra. H√£y sao ch√©p (copy) chu·ªói k√Ω t·ª± ƒë√≥.</li>
                        <li>
                            <strong>Quan tr·ªçng:</strong> Key n√†y mi·ªÖn ph√≠ (Free tier) nh∆∞ng c√≥ gi·ªõi h·∫°n (v√≠ d·ª•: 60 request/ph√∫t).
                        </li>
                    </ol>
                </div>
            </details>
            <div class="input-group">
                <label for="apiKey">Gemini API Key</label>
                <input type="password" id="apiKey" placeholder="D√°n API Key c·ªßa b·∫°n v√†o ƒë√¢y">
                <small><b>C·∫£nh b√°o:</b> Key c·ªßa b·∫°n ch·ªâ x·ª≠ l√Ω t·∫°i tr√¨nh duy·ªát.</small>
            </div>

            <div class="input-group">
                <label for="modelName">T√™n Model Gemini</label>
                <input type="text" id="modelName" value="gemini-2.5-flash-lite">
                <small class="description">V√≠ d·ª•: gemini-2.5-flash-lite, </small>
            </div>

            <div class="input-group">
                <label for="delayTime">Th·ªùi gian ngh·ªâ gi·ªØa c√°c batch (gi√¢y)</label>
                <input type="number" id="delayTime" value="30" min="1">
                <small class="description">Ngh·ªâ ƒë·ªÉ tr√°nh v∆∞·ª£t gi·ªõi h·∫°n API.</small>
            </div>

            <div class="input-group">
                <label for="csvFile">Ch·ªçn t·ªáp CSV</label>
                <input type="file" id="csvFile" accept=".csv">
            </div>
        </fieldset>
        
        <div class="controls-group">
            <button id="startButton">B·∫Øt ƒë·∫ßu X·ª≠ l√Ω</button>
            <button id="pauseButton" class="hidden">T·∫°m d·ª´ng</button>
            <button id="stopButton" class="hidden">D·ª´ng h·∫≥n & Xu·∫•t File</button>
        </div>

        <div id="status" class="status-container">
            <p>Tr·∫°ng th√°i: Ch∆∞a b·∫Øt ƒë·∫ßu</p>
            <progress id="progressBar" value="0" max="100"></progress>
            
            <div id="status-summary" class="status-summary hidden">
                <p>Th√†nh c√¥ng: <span id="successCount">0</span></p>
                <p>Th·∫•t b·∫°i: <span id="failedCount">0</span></p>
            </div>
        </div>

        <button id="downloadErrorsButton" class="hidden">T·∫£i v·ªÅ danh s√°ch b√†i b√°o l·ªói</button>
    </div> <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="script.js"></script>
</body>
</html>